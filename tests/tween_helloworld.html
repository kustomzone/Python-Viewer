<html>
<head>
<script src="pythonscript.js"></script>
<script src="libs/tween/tween.min.js"></script>
<script src="bindings/tween.py"></script>

<script type="text/python" closure="false">
from tween import *
from random import random

def on_start( tween, source ):
	print 'starting tween', source

def on_update( tween, source, delta ):
	print 'updating', source, delta
	#if delta > 0.5 and random() > 0.5:
	#	tween.retarget( {0:0, 1:0, 2:0} )


def on_complete( tween, source ):
	print 'finished', source
	print source[...]

def test():

	#source = [0,0,0]
	#target = [10,20,30]

	source = {0 : 0,  1 : 0,  2 : 0}
	target = {0 : 10, 1 : 20, 2 : 30}

	#source = {'x':0, 'y':0, 'z':0}
	#target = {'x':10, 'y':20, 'z':30}

	tween = Tween( source, on_start=on_start, on_update=on_update, on_complete=on_complete )
	tween.to( target, seconds=2.0 )
	tween.start()
	animate()

def animate():
	requestAnimationFrame( animate )
	TweenManager.update()

</script>

</head>
<body>
<button onclick="test()">click me</button>
</body>
</html>