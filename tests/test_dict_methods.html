<html>
<head>
<script src="pythonscript.js"></script>

<script type="text/python" closure="false">

class Key1:
	def foo(self):
		print('FOO')

class Key2:
	def bar(self):
		print('BAR')

def func1():
	print('func1')

def func2():
	print('func2')

def test():
	global d

	d = dict(a=1, b=2) ## functional style
	print 'dict item `a`', d['a']
	print 'dict item `b`', d['b']
	print 'len of dict', len(d)

	print 'testing d.keys()'
	keys = d.keys()
	print keys
	print keys[0]
	print keys[1]

	v = keys[1]
	for v in d.keys():
		print 'v in keys', v

	print d.get('NOTKEY', '.get my default works')

	with javascript:
		j = {a:1, b:2, get:'not-a-method'}
		xx = j.get('c', '.get in javascript mode works')
		print xx
		jkeys = j.keys()
		print 'keys in javascript mode', jkeys
		j.set('ZZZ', 'my value')
		print j.values()
		print "1==pop('a')", j.pop( 'a' )
		print "len(j)", len(j)

	xxx = j.get('c', '.get on jsob works from python mode')
	print xxx
	print j.get('get')
	print j['get']
	j['get'] = 'XXX'
	print j['get']
	print j['ZZZ']
	print '2==pop("b")', j.pop( 'b' )
	print j.values()
	print j.keys()

</script>
</head>

<body>
<button onclick="test()">click me</button>
</body>
</html>