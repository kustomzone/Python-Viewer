<html>
<head>
<script src="pythonscript.js"></script>

<script type="text/python" closure="false">


def test():
	global a, b
	a = array('i', [1,2,3,4] )
	print(a.typecode)
	print(a.buffer)

	print a[0]
	print a[1]
	print a[2]
	print a[3]

	a[0] = 1000
	print a[0]

	print( '--resizing--' )
	a.resize( 8 )
	a[4] = 5
	a[5] = 6
	a[6] = 7
	a[7] = 8
	for value in a:
		print value
	print( '--testing append--' )
	a.append( 99 )
	#print a[-1]  ## TODO fix negative indices

	print( '--testing extend--' )
	a.extend( [100, 101, 102] )
	for value in a:
		print value

	print( '--testing float8--' )
	b = array('float8', [3.14, 100.1, 5.5])
	for value in b:
		print value

	print( '--testing float8--' )
	c = array('float8', [0.12345, 0.5554, 0.99998])
	for value in c:
		print value

	print( '--testing float8--' )
	d = array('float8', [-10.0, 3.141592653589793, 10.0])
	print 'error:', d[1] - 3.141592653589793

	d = array('float8', [-50.0, 3.141592653589793, 50.0])
	print 'error:', d[1] - 3.141592653589793
	print d[1]

	print( '--testing float16--' )
	e = array('float16', [-10.0, 3.141592653589793, 10.0])
	print 'error:', e[1] - 3.141592653589793


</script>
</head>

<body>
<button onclick="test()">click me</button>
</body>
</html>