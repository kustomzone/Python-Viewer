<html>
<head>
<script src="pythonscript.js"></script>
-*
<script type="text/python" closure="false">

with javascript:
	def call_callback(callback):
		print 'testing with python: style...'
		with python:
			callback('one', 'two', 'three')

		print 'testing callback directly...'
		callback('four', 'five', 'six')

	def call_instance_methods( ob ):

		with python:
			ob.some_method( 1,2,3 )
			ob.callback('four', 'five', 'six')


	def call_instance_methods_without_with_python( ob ):
		ob.some_method( 1,2,3 )
		ob.callback('four', 'five', 'six')
		print 'instance.name=', ob.name



class SuperClass:
	def __init__(self, name):
		self.name = name

	def callback(self, foo, bar, baz):
		print foo
		print bar
		print baz
		print "viva l'algerie"
		print self.name

	def some_method(self, x,y,z):
		print 'some_method'
		print x,y,z
		print self.name



def test():
	a = SuperClass( 'instance1' )
	b = SuperClass( 'instance2' )
	with javascript:
		call_callback(a.callback)
		call_callback(b.callback)
		call_instance_methods( a )
		call_instance_methods_without_with_python( a )

</script>

</head>
<body>
<button onclick="test()">click me</button>
</body>
</html>