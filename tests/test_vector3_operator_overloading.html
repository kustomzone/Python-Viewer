<html>
<head>
<script src="pythonscript.js"></script>

<script type="text/python">

class Vector3:
	def __init__(self, x=0, y=0, z=0 ):
		self._x = x
		self._y = y
		self._z = z

	def set(self, x,y,z):
		self._x = x
		self._y = y
		self._z = z

	@property
	def x(self):
		return self._x
	@x.setter
	def x(self, value):
		print 'x setter', value
		self._x = value

	@property
	def y(self):
		return self._y
	@y.setter
	def y(self, value):
		print 'y setter', value
		self._y = value

	@property
	def z(self):
		return self._z
	@z.setter
	def z(self, value):
		print 'z setter', value
		self._z = value


	def add(self, other):
		self.set( self.x+other.x, self.y+other.y, self.z+other.z )
		return self

	def __add__(self, other):
		if instanceof(other, Number):
			return Vector3( self.x+other, self.y+other, self.z+other )
		else:
			return Vector3( self.x+other.x, self.y+other.y, self.z+other.z )

	def __iadd__(self, other):
		if instanceof(other, Number):
			self.addScalar( other )
		else:
			self.add( other )

	def addScalar(self, s):
		self.set( self.x+s, self.y+s, self.z+s )
		return self


	def sub(self, other):
		self.set( self.x-other.x, self.y-other.y, self.z-other.z )
		return self

	def __sub__(self, other):
		if instanceof(other, Number):
			return Vector3( self.x-other, self.y-other, self.z-other )
		else:
			return Vector3( self.x-other.x, self.y-other.y, self.z-other.z )

	def __isub__(self, other):
		if instanceof(other, Number):
			self.set( self.x-other, self.y-other, self.z-other )
		else:
			self.sub( other )


	def multiply(self, other):
		self.set( self.x*other.x, self.y*other.y, self.z*other.z )
		return self

	def __mul__(self, other):
		if instanceof(other, Number):
			return Vector3( self.x*other, self.y*other, self.z*other )
		else:
			return Vector3( self.x*other.x, self.y*other.y, self.z*other.z )

	def __imul__(self, other):
		if instanceof(other, Number):
			self.multiplyScalar( other )
		else:
			self.multiply( other )

	def multiplyScalar(self, s):
		self.set( self.x*s, self.y*s, self.z*s )
		return self

	def divide(self, other):
		self.set( self.x/other.x, self.y/other.y, self.z/other.z )
		return self

	def divideScalar(self, s):
		self.set( self.x/s, self.y/s, self.z/s )
		return self

	def __div__(self, other):
		if instanceof(other, Number):
			return Vector3( self.x/other, self.y/other, self.z/other )
		else:
			return Vector3( self.x/other.x, self.y/other.y, self.z/other.z )

	def __idiv__(self, other):
		if instanceof(other, Number):
			self.divideScalar( other )
		else:
			self.divide( other )


	def __xor__(self, s):  ## ^
		self.set( self.x^s, self.y^s, self.z^s )
		return self

def show_vec(v):
	print '-------------'
	print v.x
	print v.y
	print v.z

def main():
	n = 1
	n += 2
	print n

	v1 = Vector3(1, 2, 3)
	v2 = Vector3(10, 0, 10)
	print v1, v2
	print 'testing +'
	a = v1 + v2
	show_vec(a)

	print 'testing +='
	a += 2.5
	show_vec(a)
	a += v1
	show_vec(a)

	print 'testing -='
	a -= v1
	show_vec(a)
	a -= 100
	show_vec(a)

	print 'testing *'
	b = v1 * v2
	show_vec(b)

	print 'testing *='
	b *= 10.0
	show_vec(b)
	b *= v2
	show_vec(b)

	print 'testing setters'
	b.x = 1
	b.y = 2
	b.z = 3



</script>
</head>

<body>
<button onclick="main()">click me</button>
</body>
</html>