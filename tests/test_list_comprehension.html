<html>
<head>
<script src="pythonscript.js"></script>

<script type="text/python">


def test():
	global lst, a, b, x,y,z

	print 'testing list of chars...'
	lst = ['h', 'e', 'l', 'l', 'o']
	a = [ ord(c) for c in lst ]
	for c in a:
		print chr(c)

	print 'testing string...'
	b = [ ord(c) for c in 'hello' ]
	for c in b:
		print chr(c)

	## note: 'string'.split is javascript function, and returns an array not a list!
	print 'testing for char in word for word in words...'
	words = 'hello world foo bar'.split(' ')
	x = [ ord(c) for word in words for c in word ]
	for v in x:
		print chr(v)

	print 'testing if'
	x = [ ord(c) for c in lst if c=='l']
	for v in x:
		print chr(v)

	print 'testing nested1'  ## TODO fix nested comprehensions
	y = [ [['hello', 'world'] for p in xrange(3)] for ci in xrange(4)]
	print len(y[0])  ## this should be 3


	print 'testing nested2'  ## TODO fix nested comprehensions
	nested = [
		[1,2,3],
		[4,5,6]
	]
	z = [ [p*p for p in n] for n in nested]
	print len(z)
	print len(z[0])

	print 'testing nested3'
	w = 5
	h = 10
	u = [x+y for y in range(h) for x in range(w)]
	print u
	if u[5] != 1:
		print 'ERROR - u[5] is not 1', u[5]

	print 'test complete'

</script>
</head>

<body>
<button onclick="test()">click me</button>
</body>
</html>